<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>DB</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/DB.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">GitHubAPI-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">DB</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Database Operations</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:connectDB">connectDB</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:initialiseDB">initialiseDB</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../HDBC-sqlite3-2.3.3.1/Database-HDBC-Sqlite3.html#t:Connection" title="Database.HDBC.Sqlite3">Connection</a></li><li class="src short"><a href="#v:extractResp">extractResp</a> :: <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a1 [a2] -&gt; [a2]</li><li class="src short"><a href="#v:addRepoMany">addRepoMany</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; [<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="DataTypes.html#t:RepoResponse" title="DataTypes">RepoResponse</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:retrieveDB">retrieveDB</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; [<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] -&gt; ([<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; b) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [b]</li><li class="src short"><a href="#v:addContribs">addContribs</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; (<a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>, <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:addLangList">addLangList</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; [(<a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>, <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:addLang">addLang</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; (<a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>, <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:fillTotalCount">fillTotalCount</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:fillLinesPerContrib">fillLinesPerContrib</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:dbTableToJSON">dbTableToJSON</a> :: (<a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn, <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> b) =&gt; conn -&gt; [<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] -&gt; ([<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; b) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:repoFromSQL">repoFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:RepoResponse" title="DataTypes">RepoResponse</a></li><li class="src short"><a href="#v:contribFromSQL">contribFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:Contributor" title="DataTypes">Contributor</a></li><li class="src short"><a href="#v:langFromSQL">langFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:Language" title="DataTypes">Language</a></li><li class="src short"><a href="#v:totalFromSQL">totalFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:TotalCount" title="DataTypes">TotalCount</a></li><li class="src short"><a href="#v:avgContribFromSQL">avgContribFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:AvgContribLines" title="DataTypes">AvgContribLines</a></li><li class="src short"><a href="#v:topFiveLangs">topFiveLangs</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:topFiveContribs">topFiveContribs</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:topLinesPerContrib">topLinesPerContrib</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:printResults">printResults</a> :: [<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] -&gt; [<a href="DataTypes.html#t:TotalCount" title="DataTypes">TotalCount</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:printContribResults">printContribResults</a> :: [<a href="DataTypes.html#t:Contributor" title="DataTypes">Contributor</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:printAvgLPCResults">printAvgLPCResults</a> :: [<a href="DataTypes.html#t:AvgContribLines" title="DataTypes">AvgContribLines</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:retrieveRepoBetween">retrieveRepoBetween</a> :: (<a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn, <a href="../convertible-1.1.1.0/Data-Convertible-Base.html#t:Convertible" title="Data.Convertible.Base">Convertible</a> a <a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>) =&gt; conn -&gt; a -&gt; a -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="DataTypes.html#t:RepoResponse" title="DataTypes">RepoResponse</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:connectDB" class="def">connectDB</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#connectDB" class="link">Source</a> <a href="#v:connectDB" class="selflink">#</a></p><div class="doc"><p>Connect the database and create all the tables</p></div></div><div class="top"><p class="src"><a id="v:initialiseDB" class="def">initialiseDB</a> :: <a href="../base-4.12.0.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> <a href="../HDBC-sqlite3-2.3.3.1/Database-HDBC-Sqlite3.html#t:Connection" title="Database.HDBC.Sqlite3">Connection</a> <a href="src/DB.html#initialiseDB" class="link">Source</a> <a href="#v:initialiseDB" class="selflink">#</a></p><div class="doc"><p>Initialise the database with a given path name</p></div></div><div class="top"><p class="src"><a id="v:extractResp" class="def">extractResp</a> :: <a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> a1 [a2] -&gt; [a2] <a href="src/DB.html#extractResp" class="link">Source</a> <a href="#v:extractResp" class="selflink">#</a></p><div class="doc"><p>Extract response list from Either Left/Right as it is returned by parseRepoResponse</p></div></div><div class="top"><p class="src"><a id="v:addRepoMany" class="def">addRepoMany</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; [<a href="../base-4.12.0.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a> <a href="DataTypes.html#t:RepoResponse" title="DataTypes">RepoResponse</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#addRepoMany" class="link">Source</a> <a href="#v:addRepoMany" class="selflink">#</a></p><div class="doc"><p>Recursively calls addRepo on a list of Either RepoResponse objects</p></div></div><div class="top"><p class="src"><a id="v:retrieveDB" class="def">retrieveDB</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; [<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] -&gt; ([<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; b) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [b] <a href="src/DB.html#retrieveDB" class="link">Source</a> <a href="#v:retrieveDB" class="selflink">#</a></p><div class="doc"><p>Generalised function to retrieve and type convert an entire table from the database.
  Returns a list of a given data type specified by the typeConverter parameter</p></div></div><div class="top"><p class="src"><a id="v:addContribs" class="def">addContribs</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; (<a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>, <a href="../base-4.12.0.0/Data-Int.html#t:Int" title="Data.Int">Int</a>) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#addContribs" class="link">Source</a> <a href="#v:addContribs" class="selflink">#</a></p><div class="doc"><p>Adds a single contributor tuple (as provided by callContribURL in the HTTP module) to the database</p></div></div><div class="top"><p class="src"><a id="v:addLangList" class="def">addLangList</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; [(<a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>, <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>)] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#addLangList" class="link">Source</a> <a href="#v:addLangList" class="selflink">#</a></p><div class="doc"><p>Adds a list of language tuples to the database using addLang above</p></div></div><div class="top"><p class="src"><a id="v:addLang" class="def">addLang</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; (<a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>, <a href="../base-4.12.0.0/Data-String.html#t:String" title="Data.String">String</a>, <a href="../base-4.12.0.0/Prelude.html#t:Integer" title="Prelude">Integer</a>) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#addLang" class="link">Source</a> <a href="#v:addLang" class="selflink">#</a></p><div class="doc"><p>Adds a single language tuple (as provided by callLangURL in the HTTP module) to the database</p></div></div><div class="top"><p class="src"><a id="v:fillTotalCount" class="def">fillTotalCount</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#fillTotalCount" class="link">Source</a> <a href="#v:fillTotalCount" class="selflink">#</a></p><div class="doc"><p>SQL query that aggregates across all repositories and calculates the total line count and total contributors for each language.
  This also populates the total count table</p></div></div><div class="top"><p class="src"><a id="v:fillLinesPerContrib" class="def">fillLinesPerContrib</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#fillLinesPerContrib" class="link">Source</a> <a href="#v:fillLinesPerContrib" class="selflink">#</a></p><div class="doc"><p>SQL query that calculates the average number  of lines per contributor for each repository.
 | This query then populates the LinesPerContrib table</p></div></div><div class="top"><p class="src"><a id="v:dbTableToJSON" class="def">dbTableToJSON</a> :: (<a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn, <a href="../aeson-1.4.6.0/Data-Aeson-Types.html#t:ToJSON" title="Data.Aeson.Types">ToJSON</a> b) =&gt; conn -&gt; [<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] -&gt; ([<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; b) -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#dbTableToJSON" class="link">Source</a> <a href="#v:dbTableToJSON" class="selflink">#</a></p><div class="doc"><p>Takes a table name and its conveter (FromSQL), ecncodes the the list then writes it out to a JSON file matching it's table name</p></div></div><div class="top"><p class="src"><a id="v:repoFromSQL" class="def">repoFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:RepoResponse" title="DataTypes">RepoResponse</a> <a href="src/DB.html#repoFromSQL" class="link">Source</a> <a href="#v:repoFromSQL" class="selflink">#</a></p><div class="doc"><p>Type converter that allows us to extract items from the database as RepoResponse objects</p></div></div><div class="top"><p class="src"><a id="v:contribFromSQL" class="def">contribFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:Contributor" title="DataTypes">Contributor</a> <a href="src/DB.html#contribFromSQL" class="link">Source</a> <a href="#v:contribFromSQL" class="selflink">#</a></p><div class="doc"><p>Type converter that allows us to extract items from the database as Contributor objects</p></div></div><div class="top"><p class="src"><a id="v:langFromSQL" class="def">langFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:Language" title="DataTypes">Language</a> <a href="src/DB.html#langFromSQL" class="link">Source</a> <a href="#v:langFromSQL" class="selflink">#</a></p><div class="doc"><p>Type converter that allows us to extract items from the database as Language objects</p></div></div><div class="top"><p class="src"><a id="v:totalFromSQL" class="def">totalFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:TotalCount" title="DataTypes">TotalCount</a> <a href="src/DB.html#totalFromSQL" class="link">Source</a> <a href="#v:totalFromSQL" class="selflink">#</a></p><div class="doc"><p>Type converter that allows us to extract items from the database as TotalCount objects</p></div></div><div class="top"><p class="src"><a id="v:avgContribFromSQL" class="def">avgContribFromSQL</a> :: [<a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>] -&gt; <a href="DataTypes.html#t:AvgContribLines" title="DataTypes">AvgContribLines</a> <a href="src/DB.html#avgContribFromSQL" class="link">Source</a> <a href="#v:avgContribFromSQL" class="selflink">#</a></p><div class="doc"><p>Type converter that allows us to extract items from the database as AvgContribLines objects</p></div></div><div class="top"><p class="src"><a id="v:topFiveLangs" class="def">topFiveLangs</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#topFiveLangs" class="link">Source</a> <a href="#v:topFiveLangs" class="selflink">#</a></p><div class="doc"><p>Finds and prints the top languages from the totalCount table by a number of metrics (line count, most contributors, most average lines per contributor)</p></div></div><div class="top"><p class="src"><a id="v:topFiveContribs" class="def">topFiveContribs</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#topFiveContribs" class="link">Source</a> <a href="#v:topFiveContribs" class="selflink">#</a></p><div class="doc"><p>Finds and prints the top repos by contributors from the contributorResponses table</p></div></div><div class="top"><p class="src"><a id="v:topLinesPerContrib" class="def">topLinesPerContrib</a> :: <a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn =&gt; conn -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#topLinesPerContrib" class="link">Source</a> <a href="#v:topLinesPerContrib" class="selflink">#</a></p><div class="doc"><p>Finds and prints the top repos by average lines per contributor from the linesPerContrib table</p></div></div><div class="top"><p class="src"><a id="v:printResults" class="def">printResults</a> :: [<a href="../base-4.12.0.0/Data-Char.html#t:Char" title="Data.Char">Char</a>] -&gt; [<a href="DataTypes.html#t:TotalCount" title="DataTypes">TotalCount</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#printResults" class="link">Source</a> <a href="#v:printResults" class="selflink">#</a></p><div class="doc"><p>When printing the top five results from the totalCount at the end of program execution, this function gets the relevant fields to display from the DataTypes and prints them</p></div></div><div class="top"><p class="src"><a id="v:printContribResults" class="def">printContribResults</a> :: [<a href="DataTypes.html#t:Contributor" title="DataTypes">Contributor</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#printContribResults" class="link">Source</a> <a href="#v:printContribResults" class="selflink">#</a></p><div class="doc"><p>Gets the relevant fields and prints them for the top 5 repo's by contributor</p></div></div><div class="top"><p class="src"><a id="v:printAvgLPCResults" class="def">printAvgLPCResults</a> :: [<a href="DataTypes.html#t:AvgContribLines" title="DataTypes">AvgContribLines</a>] -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/DB.html#printAvgLPCResults" class="link">Source</a> <a href="#v:printAvgLPCResults" class="selflink">#</a></p><div class="doc"><p>Gets the relevant fields and prints them for the top 5 repo's by average lines per contributor</p></div></div><div class="top"><p class="src"><a id="v:retrieveRepoBetween" class="def">retrieveRepoBetween</a> :: (<a href="../HDBC-2.4.0.3/Database-HDBC-Types.html#t:IConnection" title="Database.HDBC.Types">IConnection</a> conn, <a href="../convertible-1.1.1.0/Data-Convertible-Base.html#t:Convertible" title="Data.Convertible.Base">Convertible</a> a <a href="../HDBC-2.4.0.3/Database-HDBC-SqlValue.html#t:SqlValue" title="Database.HDBC.SqlValue">SqlValue</a>) =&gt; conn -&gt; a -&gt; a -&gt; <a href="../base-4.12.0.0/System-IO.html#t:IO" title="System.IO">IO</a> [<a href="DataTypes.html#t:RepoResponse" title="DataTypes">RepoResponse</a>] <a href="src/DB.html#retrieveRepoBetween" class="link">Source</a> <a href="#v:retrieveRepoBetween" class="selflink">#</a></p><div class="doc"><p>Retrieve the repos from the DB between the requested start and end repoID. This is so we call only the newly added languages_url and contributors_url in the current run. This allows us to build up a database over time of repos, language and contributor responses, without duplicating API calls, given we can only make 5000 API calls/hour. </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>